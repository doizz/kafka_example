# 4장 카프카의 내부 동작 원리와 구현

## 카프카 리플리케이션

 - 리더는 리플리케이션중 하나가 선정되며 모든 읽기와 쓰기는 리더에 의해서 동작한다.
 - 팔로워는 리더가 push가 아닌 팔로워가 pull방식으로 데이터를 가져온다.
 - 리더에 문제가 발생할경우 팔로워가 리더로 승격하여 동작한다.
![img_2.png](img_2.png)
 
 - 복제유지와 커밋
   - 리더와 팔로워는 ISR이라는 그룹으로 묶여있다.
   - ISR그룹안에 속해있는 팔로워만이 리더에 문제가 생겼을경우 리더가 될 자격이 있다.
   - 오류, 장애 등 이유로 팔로워가 리플리케이션을 따라가지 못하는경우 ISR그룹에서 팔로워는 추방당한다.
   

